<!-- Gallery Section -->
<section id="photos" class="gallery-section active">
  <div class="gallery-grid" id="imageGallery"></div>
</section>

<!-- Lightbox -->
<div class="lightbox" id="lightbox">
  <span class="close" onclick="closeLightbox()">&times;</span>
  <img id="lightbox-img" src="" alt="">
  <p id="lightbox-title"></p>
  <div class="lightbox-controls">
    <span onclick="prevImage()">&#10094;</span>
    <span onclick="nextImage()">&#10095;</span>
  </div>
</div>

<style>
  .gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 20px;
    padding: 30px;
  }

  .gallery-grid img {
    width: 100%;
    height: auto;
    border-radius: 12px;
    cursor: pointer;
    transition: transform 0.3s;
  }

  .gallery-grid img:hover {
    transform: scale(1.03);
  }

  .image-caption {
    text-align: center;
    margin-top: 5px;
    font-size: 1rem;
    color: white;
  }

  .lightbox {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.9);
    display: none;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 10000;
    color: white;
  }

  .lightbox img {
    max-width: 90%;
    max-height: 80vh;
    border-radius: 10px;
  }

  .lightbox p {
    margin-top: 10px;
    font-size: 1.2rem;
    text-align: center;
  }

  .lightbox .close {
    position: absolute;
    top: 20px;
    right: 30px;
    font-size: 2rem;
    cursor: pointer;
  }

  .lightbox-controls {
    position: absolute;
    top: 50%;
    width: 100%;
    display: flex;
    justify-content: space-between;
    padding: 0 30px;
    transform: translateY(-50%);
  }

  .lightbox-controls span {
    font-size: 2.5rem;
    cursor: pointer;
    user-select: none;
  }
</style>

<script>
  const imageData = Array.from({ length: 58 }, (_, i) => ({
    src: `images/pic (${i + 1}).jpg`,
    title: `Memory ${i + 1}` // You can customize each title here
  }));

  const gallery = document.getElementById('imageGallery');
  const lightbox = document.getElementById('lightbox');
  const lightboxImg = document.getElementById('lightbox-img');
  const lightboxTitle = document.getElementById('lightbox-title');

  let currentIndex = 0;

  imageData.forEach((img, index) => {
    const container = document.createElement('div');

    const image = document.createElement('img');
    image.src = img.src;
    image.alt = img.title;
    image.loading = 'lazy';
    image.onclick = () => openLightbox(index);

    const caption = document.createElement('p');
    caption.className = 'image-caption';
    caption.textContent = img.title;

    container.appendChild(image);
    container.appendChild(caption);
    gallery.appendChild(container);
  });

  function openLightbox(index) {
    currentIndex = index;
    lightbox.style.display = 'flex';
    updateLightbox();
  }

  function updateLightbox() {
    lightboxImg.src = imageData[currentIndex].src;
    lightboxTitle.textContent = imageData[currentIndex].title;
  }

  function closeLightbox() {
    lightbox.style.display = 'none';
  }

  function prevImage() {
    currentIndex = (currentIndex - 1 + imageData.length) % imageData.length;
    updateLightbox();
  }

  function nextImage() {
    currentIndex = (currentIndex + 1) % imageData.length;
    updateLightbox();
  }

  // Keyboard support
  document.addEventListener('keydown', (e) => {
    if (e.key === "Escape") closeLightbox();
    if (e.key === "ArrowLeft") prevImage();
    if (e.key === "ArrowRight") nextImage();
  });

  // Click outside image to close
  lightbox.addEventListener('click', (e) => {
    if (e.target === lightbox) closeLightbox();
  });
</script>
